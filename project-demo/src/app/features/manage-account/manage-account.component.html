<app-nav-bar></app-nav-bar>
<header class="bg-white shadow mt-16"><!-- mt-16 -->
	<div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
	  <h1 class="text-3xl font-bold tracking-tight text-gray-900">Gestione Account</h1>
	</div>
  </header>

  <main>
	<div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
		<h1 class="text-center font-bold text-2xl">Informazioni di base</h1>
		<br>
		<div class="overflow-x-auto">
			<table class="table">
			  <!-- head -->
			  <thead>
				<tr>
				  <th>Check to delete</th>
				  <th>Picture</th>
				  <th>Firstname</th>
				  <th>Lastname</th>
				  <th>Email</th>
				  <th>Password</th>
				</tr>
			  </thead>
			  <tbody>
				<tr>
				 <th>
					<label>
						<!-- Check for deleting the user registered -->
						<input type="checkbox" class="toggle toggle-secondary" [(ngModel)]="isDeleteChecked"  />
					</label>
					
				 </th>
					<th>
						<label>
							<div class="avatar">
								<div class="mask mask-squircle w-12 h-12">
									<img src="https://img.daisyui.com/tailwind-css-component-profile-4@56w.png" alt="Avatar Tailwind CSS Component" />
								</div>
							  </div>
						</label>
					  </th>
				<td>
				<div class="flex items-center gap-3">
					<div>
						<!-- "?": safe navigation operator to handle the case where user is undefined. -->
						<div class="font-bold">{{ user.name }}</div>
					</div>
				</div>
				  </td>
				  <td>
					{{ user.surname }}
				  </td>
				  <td>{{ user.email }}</td>
				  <th>
					<div>{{ user.password }}</div>
				  </th>
				  <td>
					<!-- button to confirm deletion. -->
					<button class="btn btn-secondary" [disabled]="!isDeleteChecked" (click)="openDeleteModal()">Delete</button>
				  </td>
				</tr>	
			  </tbody>  
			  <tfoot>
				<tr>
				  <th></th>
				  <th></th>
				  <!-- Input to update data -->
				  <th><input type="text"  [(ngModel)]="user.name" placeholder="Nome" class="input input-ghost w-full max-w-xs" /></th>
				  <th><input type="text"  [(ngModel)]="user.surname" placeholder="Cognome" class="input input-ghost w-full max-w-xs" /></th>
				  <th><input type="text"  [(ngModel)]="user.email" placeholder="Email" class="input input-ghost w-full max-w-xs" /></th>
				  <th><input type="text"  [(ngModel)]="user.password" placeholder="Password" class="input input-ghost w-full max-w-xs" /></th>
				  <th><button class="btn btn-primary" (click)="openUpdateModal()">Update</button></th>
				  <th></th>
				</tr>
				
				
			  </tfoot>
			</table>
			<div class="divider divider-secondary"></div>
		  </div>
	</div>
  </main>
<!-- Modale per la conferma -->
<app-message-dialog
  #messageDialog
  [modalTitle]="modalTitle"
  [modalMessage]="modalMessage"
  [isUpdate]="isUpdate"
  (updateUser)="updateUser()"
  (deleteUser)="deleteUser()"
  [user]="user"
  >
</app-message-dialog>
<app-footer></app-footer>